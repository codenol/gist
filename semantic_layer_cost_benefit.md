# Стоимость создания семантического слоя и реальный баланс выгод

## Время на создание семантического слоя

### Семантический слой (функциональный/роли/иерархия)

**Создание семантического слоя:**
- Анализ базовых токенов: 1-2 часа
- Определение структуры семантики: 2-4 часа
- Создание всех семантических токенов: 4-8 часов
- Проверка и рефакторинг: 2-3 часа
- **Итого: 9-17 часов** для полного семантического слоя

**Обвязка компонентов:**
- Для каждого компонента нужно:
  - Понять, какие семантические токены использовать
  - Связать компонентные токены с семантическими
  - Проверить корректность связей
- На компонент: 15-30 минут
- Для 200 компонентов: **50-100 часов**

**Общее время на старте: 59-117 часов** (7-15 рабочих дней)

### Контекстный подход (без семантики)

**Создание компонентных токенов:**
- Прямая связь с базовым слоем
- На компонент: 5-10 минут
- Для 200 компонентов: **17-33 часа**

**Общее время на старте: 17-33 часа** (2-4 рабочих дня)

## Сложность для дизайнера

### Семантический слой

**Проблемы:**
- Нужно понимать систему семантики
- Нужно выбирать правильные токены из множества вариантов
- Риск ошибок: выбрать `action.primary` вместо `brand.primary`
- Нужно помнить структуру: `color.action.primary` vs `color.brand.primary` vs `color.level_1.action`
- Замедляет создание компонентов: вместо "взять blue.500" нужно "подумать, какой семантический токен использовать"

**Время на принятие решения:** 2-5 минут на токен

### Контекстный подход

**Преимущества:**
- Прямая связь: "нужен blue.500" → `base.color.blue.500`
- Нет промежуточного слоя для понимания
- Быстрее создание: 5-10 минут на компонент
- Меньше ошибок: нет выбора между похожими токенами

**Время на принятие решения:** 10-30 секунд на токен

## Реальный баланс

### Сценарий 1: Создание системы с нуля

| Подход | Время на старт | Время на изменение (200 компонентов) |
|--------|----------------|--------------------------------------|
| **Контекстный** | 17-33 часа | 6-16 часов (вручную) |
| **Семантический** | 59-117 часов | 30 секунд |

**Вывод:** Если изменений будет мало (< 5-10), контекстный подход быстрее. Если изменений много (> 10-20), семантический слой окупается.

### Сценарий 2: White Label

| Подход | Время на создание | Время на новый бренд |
|--------|-------------------|----------------------|
| **Контекстный** | 17-33 часа | 50-100 часов (пересоздать все компоненты) |
| **Семантический** | 59-117 часов | 1-2 часа (переопределить семантику) |

**Вывод:** Для White Label семантический слой выгоден уже со второго бренда.

## Ошибки и их стоимость

### Семантический слой

**Типы ошибок:**
- Выбрал не тот семантический токен: `action.primary` вместо `brand.primary`
- Использовал токен из другой категории: `color.action.primary` в компоненте, где нужен `color.status.success`
- Неправильная структура: `color.action` вместо `color.action.primary`

**Время на исправление:** 5-15 минут на ошибку
**Частота:** 1-2 ошибки на компонент
**Для 200 компонентов:** 200-400 ошибок = **17-100 часов** на исправление

### Контекстный подход

**Типы ошибок:**
- Опечатка в пути: `base.color.blue.500` → `base.color.blue.50`
- Неправильный базовый токен: `base.color.blue.500` вместо `base.color.blue.600`

**Время на исправление:** 1-2 минуты на ошибку
**Частота:** 0.1-0.3 ошибки на компонент
**Для 200 компонентов:** 20-60 ошибок = **0.3-2 часа** на исправление

## Реальный расчет для 200 компонентов

### Контекстный подход

**Создание:**
- 200 компонентов × 10 минут = 33 часа

**Изменения (10 раз за год):**
- 10 изменений × 8 часов = 80 часов

**Ошибки:**
- 30 ошибок × 1.5 минуты = 0.75 часа

**Итого за год: 113.75 часа**

### Семантический слой

**Создание:**
- Семантический слой: 15 часов
- Обвязка 200 компонентов: 75 часов
- Исправление ошибок: 50 часов
- **Итого: 140 часов**

**Изменения (10 раз за год):**
- 10 изменений × 30 секунд = 5 минут

**Ошибки (при изменениях):**
- Минимальные, так как меняем в одном месте

**Итого за год: 140.08 часа**

## Вывод

Для 200 компонентов с 10 изменениями в год:

- **Контекстный:** ~114 часов в год
- **Семантический:** ~140 часов в год

**Разница: ~26 часов (3 рабочих дня)**

### Когда семантический слой выгоден

1. ✅ **White Label** — уже со второго бренда
2. ✅ **Частые изменения** — > 20 изменений в год
3. ✅ **Большая команда** — единая точка изменений важна
4. ✅ **Долгосрочный проект** — окупается со временем

### Когда контекстный подход выгоден

1. ✅ **Быстрый старт** — нужно запуститься быстро
2. ✅ **Мало изменений** — < 5-10 изменений в год
3. ✅ **Небольшая команда** — проще без абстракций
4. ✅ **Прототипирование** — быстрая итерация важнее

## Честный ответ

Да, семантический слой **замедляет создание компонентов** и **увеличивает риск ошибок**. Для 200 компонентов это **~26 часов дополнительной работы** в первый год.

Но:
- При White Label окупается **сразу**
- При частых изменениях (> 20/год) окупается **за год**
- При большой команде снижает конфликты и ошибки

**Вывод:** Семантический слой — это **инвестиция**. Выгоден, если планируются изменения, White Label или долгосрочная поддержка. Для быстрого прототипа или стабильного проекта контекстный подход может быть быстрее.

## Сравнительная таблица

| Критерий | Контекстный | Семантический |
|----------|-------------|---------------|
| **Время на старт (200 компонентов)** | 17-33 часа | 59-117 часов |
| **Время на изменение (200 компонентов)** | 6-16 часов | 30 секунд |
| **Сложность для дизайнера** | Низкая | Средняя-высокая |
| **Риск ошибок при создании** | Низкий | Средний-высокий |
| **Риск ошибок при изменении** | Высокий | Низкий |
| **White Label** | Сложно | Легко |
| **Масштабируемость** | Низкая | Высокая |
| **Окупаемость** | Сразу | Через изменения/White Label |

## Рекомендации

### Выбирайте контекстный подход, если:
- Проект небольшой (< 50 компонентов)
- Изменения редки (< 5-10 в год)
- Нет планов на White Label
- Нужен быстрый старт
- Команда небольшая

### Выбирайте семантический слой, если:
- Проект большой (> 50 компонентов)
- Изменения часты (> 20 в год)
- Планируется White Label
- Долгосрочная поддержка
- Большая команда

## См. также

- [Масштабирование контекстного подхода](context_approach_scaling.md) — проблемы масштабирования
- [Документация по компонентным токенам](component_tokens/) — примеры всех подходов

